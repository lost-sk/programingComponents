!function(e){"object"==typeof module&&module.exports?module.exports=e.default=e:"function"==typeof define&&define.amd?define("highcharts/modules/funnel",["highcharts"],function(t){return e(t),e.Highcharts=t,e}):e("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(t){function e(t,e,i,o){t.hasOwnProperty(e)||(t[e]=o.apply(null,i))}e(t=t?t._modules:{},"Series/Funnel/FunnelSeries.js",[t["Core/Chart/Chart.js"],t["Core/Globals.js"],t["Core/Color/Palette.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(t,e,i,l,o){var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),O=e.noop,d=l.series,a=l.seriesTypes.pie;e=o.addEvent;var s,p=o.extend,D=o.fireEvent,h=o.isArray,c=o.merge,S=o.pick;function u(){var t=null!==s&&s.apply(this,arguments)||this;return t.data=void 0,t.options=void 0,t.points=void 0,t}return r(u,s=a),u.prototype.alignDataLabel=function(t,e,i,o,n){o=(h=t.series).options.reversed;var r=t.dlBox||t.shapeArgs,a=i.align,s=i.verticalAlign,l=((h.options||{}).dataLabels||{}).inside,p=h.center[1],h=h.getWidthAt((o?2*p-t.plotY:t.plotY)-r.height/2+e.height);h="middle"===s?(r.topWidth-r.bottomWidth)/4:(h-r.bottomWidth)/2,p=r.y;var c=r.x;"middle"===s?p=r.y-r.height/2+e.height/2:"top"===s&&(p=r.y-r.height+e.height+i.padding),("top"===s&&!o||"bottom"===s&&o||"middle"===s)&&("right"===a?c=r.x-i.padding+h:"left"===a&&(c=r.x+i.padding-h)),o={x:c,y:o?p-r.height:p,width:r.bottomWidth,height:r.height},i.verticalAlign="bottom",l&&!t.visible||d.prototype.alignDataLabel.call(this,t,e,i,o,n),l&&(!t.visible&&t.dataLabel&&(t.dataLabel.placed=!1),t.contrastColor&&e.css({color:t.contrastColor}))},u.prototype.drawDataLabels=function(){var t,e=this.data,i=this.options.dataLabels.distance,o=e.length;for(this.center[2]-=2*i;o--;){var n=e[o],r=(t=n.half)?1:-1,a=n.plotY;n.labelDistance=S(n.options.dataLabels&&n.options.dataLabels.distance,i),this.maxLabelDistance=Math.max(n.labelDistance,this.maxLabelDistance||0);var s=this.getX(a,t,n);n.labelPosition={natural:{x:0,y:a},final:{},alignment:t?"right":"left",connectorPosition:{breakAt:{x:s+(n.labelDistance-5)*r,y:a},touchingSliceAt:{x:s+n.labelDistance*r,y:a}}}}l.seriesTypes[this.options.dataLabels.inside?"column":"pie"].prototype.drawDataLabels.call(this)},u.prototype.translate=function(){function t(t,e){return/%$/.test(t)?e*parseInt(t,10)/100:parseInt(t,10)}var e,i,o,n,r,a,s,l,p,h=0,c=this,d=c.chart,u=c.options,f=u.reversed,g=u.ignoreHiddenPoint,y=d.plotWidth,d=d.plotHeight,b=0,v=u.center,m=t(v[0],y),L=t(v[1],d),_=t(u.width,y),x=t(u.height,d),A=t(u.neckWidth,y),W=t(u.neckHeight,d),j=L-x/2+x-W,y=c.data,C="left"===u.dataLabels.position?1:0;c.getWidthAt=function(t){return j<t||x===W?A:A+(_-A)*(1-(t-(L-x/2))/(x-W))},c.getX=function(t,e,i){return m+(e?-1:1)*(c.getWidthAt(f?2*L-t:t)/2+i.labelDistance)},c.center=[m,L,x],c.centerX=m,y.forEach(function(t){g&&!1===t.visible||(h+=t.y)}),y.forEach(function(t){p=null,i=h?t.y/h:0,s=(n=L-x/2+b*x)+i*x,e=c.getWidthAt(n),r=(o=m-e/2)+e,e=c.getWidthAt(s),l=(a=m-e/2)+e,j<n?(o=a=m-A/2,r=l=m+A/2):j<s&&(p=s,e=c.getWidthAt(j),l=(a=m-e/2)+e,s=j),f&&(n=2*L-n,s=2*L-s,null!==p&&(p=2*L-p)),e=[["M",o,n],["L",r,n],["L",l,s]],null!==p&&e.push(["L",l,p],["L",a,p]),e.push(["L",a,s],["Z"]),t.shapeType="path",t.shapeArgs={d:e},t.percentage=100*i,t.plotX=m,t.plotY=(n+(p||s))/2,t.tooltipPos=[m,t.plotY],t.dlBox={x:a,y:n,topWidth:r-o,bottomWidth:l-a,height:Math.abs(S(p,s)-n),width:NaN},t.slice=O,t.half=C,g&&!1===t.visible||(b+=i)}),D(c,"afterTranslate")},u.prototype.sortByAngle=function(t){t.sort(function(t,e){return t.plotY-e.plotY})},u.defaultOptions=c(a.defaultOptions,{animation:!1,center:["50%","50%"],width:"90%",neckWidth:"30%",height:"100%",neckHeight:"25%",reversed:!1,size:!0,dataLabels:{connectorWidth:1,verticalAlign:"middle"},states:{select:{color:i.neutralColor20,borderColor:i.neutralColor100}}}),p((o=u).prototype,{animate:O}),e(t,"afterHideAllOverlappingLabels",function(){this.series.forEach(function(t){var e=t.options&&t.options.dataLabels;h(e)&&(e=e[0]),t.is("pie")&&t.placeDataLabels&&e&&!e.inside&&t.placeDataLabels()})}),l.registerSeriesType("funnel",o),o}),e(t,"Series/Pyramid/PyramidSeries.js",[t["Series/Funnel/FunnelSeries.js"],t["Core/Series/SeriesRegistry.js"],t["Core/Utilities.js"]],function(t,e,i){var o,n,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),a=i.merge;function s(){var t=null!==n&&n.apply(this,arguments)||this;return t.data=void 0,t.options=void 0,t.points=void 0,t}return r(s,n=t),s.defaultOptions=a(t.defaultOptions,{neckWidth:"0%",neckHeight:"0%",reversed:!0}),i=s,e.registerSeriesType("pyramid",i),i}),e(t,"masters/modules/funnel.src.js",[],function(){})});